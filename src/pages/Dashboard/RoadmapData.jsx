export const rawRoadmap = [
  {
    week: 1,
    name: "Tuần 1: Cấu trúc câu & Từ loại cơ bản",
    description: "Giai đoạn 1: Nền tảng Ngữ pháp & Từ vựng. Tập trung xử lý gọn Part 5 và Part 6.",
    days: [
      { id: "w1-d1", title: "Thứ 2", focus: "Ngữ pháp: Danh từ & Đại từ", tasks: [{ id: "w1-d1-t1", type: "vocab", text: "Học 15-20 từ vựng TOEIC theo chủ đề", maxProgress: 5 }, { id: "w1-d1-t2", type: "theory", text: "Học lý thuyết Danh từ" }, { id: "w1-d1-t3", type: "quiz", text: "Giải 20-30 câu Part 5 & 6" }, { id: "w1-d1-t4", type: "theory", text: "Học lý thuyết Đại từ" }] },
      { id: "w1-d2", title: "Thứ 3", focus: "Động từ & Các thì cơ bản", tasks: [{ id: "w1-d2-t1", type: "vocab", text: "Học 15-20 từ vựng TOEIC theo chủ đề", maxProgress: 5 }, { id: "w1-d2-t2", type: "theory", text: "Học lý thuyết Động từ" }, { id: "w1-d2-t3", type: "quiz", text: "Giải 20-30 câu Part 5 & 6" }, { id: "w1-d2-t4", type: "theory", text: "Học lý thuyết Các thì cơ bản" }] },
      { id: "w1-d3", title: "Thứ 4", focus: "Tính từ & Trạng từ", tasks: [{ id: "w1-d3-t1", type: "vocab", text: "Học 15-20 từ vựng TOEIC theo chủ đề", maxProgress: 5 }, { id: "w1-d3-t2", type: "theory", text: "Học lý thuyết Tính từ" }, { id: "w1-d3-t3", type: "quiz", text: "Giải 20-30 câu Part 5 & 6 tính từ & trạng từ" }, { id: "w1-d3-t4", type: "theory", text: "Học lý thuyết Trạng từ" }] },
      { id: "w1-d4", title: "Thứ 5", focus: "Sự hòa hợp giữa Chủ ngữ và Động từ", tasks: [{ id: "w1-d4-t1", type: "vocab", text: "Học 15-20 từ vựng TOEIC theo chủ đề", maxProgress: 5 }, { id: "w1-d4-t2", type: "theory", text: "Học Sự hòa hợp giữa Chủ ngữ và Động từ" }, { id: "w1-d4-t3", type: "quiz", text: "Giải 20-30 câu Part 5 & 6 sự hoà hợp S-V" }] },
      { id: "w1-d5", title: "Thứ 6", focus: "Luyện tập tổng hợp Part 5", tasks: [{ id: "w1-d5-t1", type: "quiz", text: "Giải 50 câu Part 5 về Từ loại" }] },
      { id: "w1-d6", title: "Thứ 7", focus: "Luyện tập tổng hợp Part 5", tasks: [{ id: "w1-d6-t1", type: "quiz", text: "Giải 50 câu Part 5 về Thì và Chia động từ" }] },
      { id: "w1-d7", title: "Chủ nhật", focus: "Ôn tập và Mini-test", tasks: [{ id: "w1-d7-t1", type: "vocab", text: "Ôn lại toàn bộ từ vựng Tuần 1", maxProgress: 5 }, { id: "w1-d7-t2", type: "quiz", text: "Làm 1 bài Mini-test Part 5 & 6 (46 câu) không bấm giờ" }] },
    ]
  },
  {
    week: 2,
    name: "Tuần 2: Cấu trúc nâng cao & Từ nối",
    description: "Giai đoạn 1: Nền tảng Ngữ pháp & Từ vựng. Nắm vững từ nối và cấu trúc song song.",
    days: [
      { id: "w2-d1", title: "Thứ 2", focus: "Giới từ chỉ thời gian, nơi chốn", tasks: [{ id: "w2-d1-t1", type: "vocab", text: "Học 15-20 từ vựng TOEIC theo chủ đề", maxProgress: 5 }, { id: "w2-d1-t2", type: "theory", text: "Học Giới từ (in, on, at, within...)" }, { id: "w2-d1-t3", type: "quiz", text: "Giải 20-30 câu Part 5 & 6" }] },
      { id: "w2-d2", title: "Thứ 3", focus: "Liên từ & Cấu trúc song song", tasks: [{ id: "w2-d2-t1", type: "vocab", text: "Học 15-20 từ vựng TOEIC theo chủ đề", maxProgress: 5 }, { id: "w2-d2-t2", type: "theory", text: "Học Liên từ & Cấu trúc song song" }, { id: "w2-d2-t3", type: "quiz", text: "Giải 20-30 câu Part 5 & 6" }] },
      { id: "w2-d3", title: "Thứ 4", focus: "Mệnh đề quan hệ", tasks: [{ id: "w2-d3-t1", type: "vocab", text: "Học 15-20 từ vựng TOEIC theo chủ đề", maxProgress: 5 }, { id: "w2-d3-t2", type: "theory", text: "Học Mệnh đề quan hệ (Who, Whom...)" }, { id: "w2-d3-t3", type: "quiz", text: "Giải 20-30 câu Part 5 & 6" }] },
      { id: "w2-d4", title: "Thứ 5", focus: "Mệnh đề quan hệ rút gọn", tasks: [{ id: "w2-d4-t1", type: "vocab", text: "Học 15-20 từ vựng TOEIC theo chủ đề", maxProgress: 5 }, { id: "w2-d4-t2", type: "theory", text: "Học Mệnh đề quan hệ rút gọn (V-ing / V-ed)" }, { id: "w2-d4-t3", type: "quiz", text: "Giải 20-30 câu Part 5 & 6" }] },
      { id: "w2-d5", title: "Thứ 6", focus: "Dịch thuật Part 6", tasks: [{ id: "w2-d5-t1", type: "vocab", text: "Học 15-20 từ vựng TOEIC theo chủ đề", maxProgress: 5 }, { id: "w2-d5-t2", type: "theory", text: "Dịch 3 đoạn văn Part 6, chú ý từ nối" }] },
      { id: "w2-d6", title: "Thứ 7", focus: "Luyện tập tổng hợp", tasks: [{ id: "w2-d6-t1", type: "quiz", text: "Giải 50 câu Part 5 & 6 về Giới từ, Liên từ, MĐQH" }] },
      { id: "w2-d7", title: "Chủ nhật", focus: "Ôn tập và Mini-test", tasks: [{ id: "w2-d7-t1", type: "vocab", text: "Ôn tập từ vựng Tuần 2", maxProgress: 5 }, { id: "w2-d7-t2", type: "quiz", text: "Làm Mini-test Part 5 & 6 (bấm giờ 20 phút)" }] },
    ]
  },
  {
    week: 3,
    name: "Tuần 3: Động từ đặc biệt & Bắt đầu Part 7",
    description: "Giai đoạn 1: Nền tảng Ngữ pháp & Từ vựng. Làm quen kỹ năng làm Part 7.",
    days: [
      { id: "w3-d1", title: "Thứ 2", focus: "Câu bị động (Passive Voice)", tasks: [{ id: "w3-d1-t1", type: "vocab", text: "Học 15-20 từ vựng TOEIC theo chủ đề", maxProgress: 5 }, { id: "w3-d1-t2", type: "theory", text: "Học Câu bị động" }, { id: "w3-d1-t3", type: "quiz", text: "Giải 20-30 câu Part 5 & 6" }] },
      { id: "w3-d2", title: "Thứ 3", focus: "Động từ nguyên mẫu & Danh động từ", tasks: [{ id: "w3-d2-t1", type: "vocab", text: "Học 15-20 từ vựng TOEIC theo chủ đề", maxProgress: 5 }, { id: "w3-d2-t2", type: "theory", text: "Học To V & V-ing" }, { id: "w3-d2-t3", type: "quiz", text: "Giải 20-30 câu Part 5 & 6" }] },
      { id: "w3-d3", title: "Thứ 4", focus: "Câu điều kiện", tasks: [{ id: "w3-d3-t1", type: "vocab", text: "Học 15-20 từ vựng TOEIC theo chủ đề", maxProgress: 5 }, { id: "w3-d3-t2", type: "theory", text: "Học Câu điều kiện (Loại 1, 2, 3)" }, { id: "w3-d3-t3", type: "quiz", text: "Giải 20-30 câu Part 5 & 6" }] },
      { id: "w3-d4", title: "Thứ 5", focus: "Giới thiệu Part 7", tasks: [{ id: "w3-d4-t1", type: "vocab", text: "Học 15-20 từ vựng TOEIC theo chủ đề", maxProgress: 5 }, { id: "w3-d4-t2", type: "theory", text: "Kỹ năng Skimming và Scanning" }] },
      { id: "w3-d5", title: "Thứ 6", focus: "Luyện Part 7", tasks: [{ id: "w3-d5-t1", type: "vocab", text: "Học 15-20 từ vựng TOEIC theo chủ đề", maxProgress: 5 }, { id: "w3-d5-t2", type: "quiz", text: "Đọc hiểu: Email/Thư tín (Letter)" }] },
      { id: "w3-d6", title: "Thứ 7", focus: "Luyện Part 7", tasks: [{ id: "w3-d6-t1", type: "vocab", text: "Học 15-20 từ vựng TOEIC theo chủ đề", maxProgress: 5 }, { id: "w3-d6-t2", type: "quiz", text: "Đọc hiểu: Thông báo (Notice/Announcement)" }] },
      { id: "w3-d7", title: "Chủ nhật", focus: "Review 3 tuần", tasks: [{ id: "w3-d7-t1", type: "theory", text: "Review lỗi sai ngữ pháp 3 tuần" }, { id: "w3-d7-t2", type: "vocab", text: "Học lại các từ vựng đã quên", maxProgress: 5 }] },
    ]
  },
  {
    week: 4,
    name: "Tuần 4: Chinh phục Đoạn văn đơn",
    description: "Giai đoạn 2: Tăng tốc & Khai phá Part 7. Nhận diện Paraphrase, dịch chi tiết.",
    days: [
      { id: "w4-d1", title: "Thứ 2", focus: "Bài báo (Article)", tasks: [{ id: "w4-d1-t1", type: "vocab", text: "Ôn từ vựng flashcard + Học 10 từ mới Part 7", maxProgress: 5 }, { id: "w4-d1-t2", type: "theory", text: "Phân tích kỹ thuật Paraphrase (Article)" }, { id: "w4-d1-t3", type: "quiz", text: "Giải và dịch chi tiết các đoạn văn" }] },
      { id: "w4-d2", title: "Thứ 3", focus: "Tin nhắn chuỗi & Trò chuyện", tasks: [{ id: "w4-d2-t1", type: "vocab", text: "Ôn từ vựng flashcard + Học 10 từ mới Part 7", maxProgress: 5 }, { id: "w4-d2-t2", type: "theory", text: "Phân tích kỹ thuật Paraphrase" }, { id: "w4-d2-t3", type: "quiz", text: "Giải và dịch chi tiết các đoạn văn" }] },
      { id: "w4-d3", title: "Thứ 4", focus: "Quảng cáo & Biểu mẫu", tasks: [{ id: "w4-d3-t1", type: "vocab", text: "Ôn từ vựng flashcard + Học 10 từ mới Part 7", maxProgress: 5 }, { id: "w4-d3-t2", type: "theory", text: "Phân tích kỹ thuật Paraphrase" }, { id: "w4-d3-t3", type: "quiz", text: "Giải và dịch chi tiết các đoạn văn" }] },
      { id: "w4-d4", title: "Thứ 5", focus: "Luyện bài tập áp lực", tasks: [{ id: "w4-d4-t1", type: "quiz", text: "Giải full set Single Passage (29 câu) - 25 phút" }] },
      { id: "w4-d5", title: "Thứ 6", focus: "Ôn luyện", tasks: [{ id: "w4-d5-t1", type: "theory", text: "Dịch toàn bộ bài đọc hôm qua sang Tiếng Việt" }] },
      { id: "w4-d6", title: "Thứ 7", focus: "Phân tích câu hỏi", tasks: [{ id: "w4-d6-t1", type: "theory", text: "Phân tích các câu hỏi ý chính, chi tiết, từ vựng" }] },
      { id: "w4-d7", title: "Chủ nhật", focus: "Nghỉ ngơi", tasks: [{ id: "w4-d7-t1", type: "theory", text: "Dành thời gian xả hơi, nạp năng lượng" }] },
    ]
  },
  {
    week: 5,
    name: "Tuần 5: Chinh phục Đoạn văn kép/ba",
    description: "Giai đoạn 2: Tăng tốc & Khai phá Part 7. Xử lý đoạn văn độ dài lớn.",
    days: [
      { id: "w5-d1", title: "Thứ 2", focus: "Đoạn văn kép (Double Passages)", tasks: [{ id: "w5-d1-t1", type: "vocab", text: "Ôn từ vựng flashcard + Học 10 từ mới Part 7", maxProgress: 5 }, { id: "w5-d1-t2", type: "theory", text: "Kỹ năng đối chiếu 2 đoạn văn" }] },
      { id: "w5-d2", title: "Thứ 3", focus: "Luyện tập Đoạn văn kép", tasks: [{ id: "w5-d2-t1", type: "vocab", text: "Ôn từ vựng flashcard + Học 10 từ mới Part 7", maxProgress: 5 }, { id: "w5-d2-t2", type: "quiz", text: "Luyện tập giải 2 set đoạn văn kép" }] },
      { id: "w5-d3", title: "Thứ 4", focus: "Đoạn văn ba (Triple Passages)", tasks: [{ id: "w5-d3-t1", type: "vocab", text: "Ôn từ vựng flashcard + Học 10 từ mới Part 7", maxProgress: 5 }, { id: "w5-d3-t2", type: "theory", text: "Kỹ năng tìm điểm chung 3 đoạn văn" }] },
      { id: "w5-d4", title: "Thứ 5", focus: "Luyện tập Đoạn văn ba", tasks: [{ id: "w5-d4-t1", type: "vocab", text: "Ôn từ vựng flashcard + Học 10 từ mới Part 7", maxProgress: 5 }, { id: "w5-d4-t2", type: "quiz", text: "Luyện tập giải 2 set đoạn văn ba" }] },
      { id: "w5-d5", title: "Thứ 6", focus: "Giải full set", tasks: [{ id: "w5-d5-t1", type: "quiz", text: "Giải full set Double & Triple (25 câu) - 25 phút" }] },
      { id: "w5-d6", title: "Thứ 7", focus: "Chữa bài", tasks: [{ id: "w5-d6-t1", type: "theory", text: "Chữa lỗi sai & Dịch chi tiết các đoạn văn" }] },
      { id: "w5-d7", title: "Chủ nhật", focus: "Thi thử Part 7", tasks: [{ id: "w5-d7-t1", type: "quiz", text: "Thi thử Part 7 full (54 câu) - 50 phút" }] },
    ]
  },
  {
    week: 6,
    name: "Tuần 6: Thực chiến & Kiểm soát thời gian",
    description: "Giai đoạn 3: Thực chiến Đề 1, Đề 2, Đề 3.",
    days: [
      { id: "w6-d1", title: "Thứ 2", focus: "Làm Đề số 1", tasks: [{ id: "w6-d1-t1", type: "quiz", text: "Làm Đề số 1 (Part 5,6,7) - 75 phút" }] },
      { id: "w6-d2", title: "Thứ 3", focus: "Chữa Đề số 1", tasks: [{ id: "w6-d2-t1", type: "theory", text: "Check đáp án, tính điểm" }, { id: "w6-d2-t2", type: "theory", text: "Phân tích Part 5, 6 & học cấu trúc" }, { id: "w6-d2-t3", type: "theory", text: "Phân tích Part 7, dịch bài" }] },
      { id: "w6-d3", title: "Thứ 4", focus: "Làm Đề số 2", tasks: [{ id: "w6-d3-t1", type: "quiz", text: "Làm Đề số 2 (Part 5,6,7) - 75 phút" }] },
      { id: "w6-d4", title: "Thứ 5", focus: "Chữa Đề số 2", tasks: [{ id: "w6-d4-t1", type: "theory", text: "Check đáp án, phân tích & dịch bài" }] },
      { id: "w6-d5", title: "Thứ 6", focus: "Làm Đề số 3", tasks: [{ id: "w6-d5-t1", type: "quiz", text: "Làm Đề số 3 (Part 5,6,7) - 70 phút" }] },
      { id: "w6-d6", title: "Thứ 7", focus: "Chữa Đề số 3", tasks: [{ id: "w6-d6-t1", type: "theory", text: "Check đáp án, phân tích & dịch bài" }] },
      { id: "w6-d7", title: "Chủ nhật", focus: "Ôn tập tổng hợp", tasks: [{ id: "w6-d7-t1", type: "vocab", text: "Xem lại sổ tay lỗi sai và từ vựng", maxProgress: 5 }] },
    ]
  },
  {
    week: 7,
    name: "Tuần 7: Tăng tốc thực chiến",
    description: "Giai đoạn 3: Thực chiến Đề 4, Đề 5, Đề 6.",
    days: [
      { id: "w7-d1", title: "Thứ 2", focus: "Làm Đề số 4", tasks: [{ id: "w7-d1-t1", type: "quiz", text: "Làm Đề số 4 (Part 5,6,7) - 75 phút" }] },
      { id: "w7-d2", title: "Thứ 3", focus: "Chữa Đề số 4", tasks: [{ id: "w7-d2-t1", type: "theory", text: "Check đáp án, phân tích & dịch bài" }] },
      { id: "w7-d3", title: "Thứ 4", focus: "Làm Đề số 5", tasks: [{ id: "w7-d3-t1", type: "quiz", text: "Làm Đề số 5 (Part 5,6,7) - 75 phút" }] },
      { id: "w7-d4", title: "Thứ 5", focus: "Chữa Đề số 5", tasks: [{ id: "w7-d4-t1", type: "theory", text: "Check đáp án, phân tích & dịch bài" }] },
      { id: "w7-d5", title: "Thứ 6", focus: "Làm Đề số 6", tasks: [{ id: "w7-d5-t1", type: "quiz", text: "Làm Đề số 6 (Part 5,6,7) - 70 phút" }] },
      { id: "w7-d6", title: "Thứ 7", focus: "Chữa Đề số 6", tasks: [{ id: "w7-d6-t1", type: "theory", text: "Check đáp án, phân tích & dịch bài" }] },
      { id: "w7-d7", title: "Chủ nhật", focus: "Ôn tập tổng hợp", tasks: [{ id: "w7-d7-t1", type: "vocab", text: "Xem lại sổ tay lỗi sai và từ vựng", maxProgress: 5 }] },
    ]
  },
  {
    week: 8,
    name: "Tuần 8: Chuẩn bị thi thật",
    description: "Giai đoạn 3: Thực chiến Đề 7, Đề 8, Đề 9.",
    days: [
      { id: "w8-d1", title: "Thứ 2", focus: "Làm Đề số 7", tasks: [{ id: "w8-d1-t1", type: "quiz", text: "Làm Đề số 7 (Part 5,6,7) - 75 phút" }] },
      { id: "w8-d2", title: "Thứ 3", focus: "Chữa Đề số 7", tasks: [{ id: "w8-d2-t1", type: "theory", text: "Check đáp án, phân tích & dịch bài" }] },
      { id: "w8-d3", title: "Thứ 4", focus: "Làm Đề số 8", tasks: [{ id: "w8-d3-t1", type: "quiz", text: "Làm Đề số 8 (Part 5,6,7) - 75 phút" }] },
      { id: "w8-d4", title: "Thứ 5", focus: "Chữa Đề số 8", tasks: [{ id: "w8-d4-t1", type: "theory", text: "Check đáp án, phân tích & dịch bài" }] },
      { id: "w8-d5", title: "Thứ 6", focus: "Làm Đề số 9", tasks: [{ id: "w8-d5-t1", type: "quiz", text: "Làm Đề số 9 (Part 5,6,7) - 70 phút" }] },
      { id: "w8-d6", title: "Thứ 7", focus: "Chữa Đề số 9", tasks: [{ id: "w8-d6-t1", type: "theory", text: "Check đáp án, phân tích & dịch bài" }] },
      { id: "w8-d7", title: "Chủ nhật", focus: "Tổng kết & Nghỉ ngơi", tasks: [{ id: "w8-d7-t1", type: "vocab", text: "Xem lại sổ tay lỗi sai và từ vựng lần cuối", maxProgress: 5 }, { id: "w8-d7-t2", type: "theory", text: "Nghỉ ngơi, chuẩn bị tinh thần thi thật" }] },
    ]
  }
];

const normalizeTasks = (weeks) =>
  weeks.map((week) => ({
    ...week,
    days: week.days.map((day) => ({
      ...day,
      tasks: day.tasks.map((task) => {
        const type = task.type ?? "quiz";
        const tag = task.tag ?? (type === "vocab" ? "Từ vựng" : "Trắc nghiệm");
        return { ...task, completed: false, type, tag };
      }),
    })),
  }));

export const detailedRoadmap = normalizeTasks(rawRoadmap);

export const chartData = [
  { name: "Start", target: 300, current: 300, label: "Mất gốc" },
  { name: "Tuần 1", target: 350, current: 360, label: "Part 5 nền" },
  { name: "Tuần 2", target: 420, current: null, label: "Câu ghép & Từ nối" },
  { name: "Tuần 3", target: 480, current: null, label: "Part 7 Basic" },
  { name: "Tuần 4", target: 540, current: null, label: "Single Passage" },
  { name: "Tuần 5", target: 600, current: null, label: "Multi Passage" },
  { name: "Tuần 6", target: 660, current: null, label: "Luyện Đề" },
  { name: "Tuần 7", target: 700, current: null, label: "Luyện Đề ++" },
  { name: "Tuần 8", target: 720, current: null, label: "Thực chiến" },
];
